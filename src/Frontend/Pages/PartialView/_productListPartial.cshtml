@using Frontend.Common;
@using Frontend.Models;

@model PaginatedResult<Product>



<div class="row">
    @if (Model.Data.Any())
    {
        <div class="">
            <span
                class="fw-bold mt-3 mb-5 fs-6">showing @((Model.CurrentPage - 1) * Model.PageSize + 1) - @((Model.CurrentPage - 1) * Model.PageSize + Model.Data.Count) of @Model.TotalItems results</span>
        </div>
        foreach (var product in Model.Data)
        {
            <div class="col-md-4 mb-4 mt-2">
                <div class="card h-100">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@product.Name</h5>
                        <p class="card-text flex-grow-1">@product.Description</p>
                        <div>
                            <span class="fw-bold text-success">$@product.OriginalPrice</span>
                            @if (product.DiscountPercentage.HasValue && product.DiscountPercentage > 0 && product.IsDiscounted)
                            {
                                <span class="text-muted text-decoration-line-through ms-2">
                                    $@(product.FinalPrice / (1 - product.DiscountPercentage.Value / 100))
                                </span>
                            }
                        </div>
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        <p class="text-center">No products found.</p>
    }
</div>